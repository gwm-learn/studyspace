# 数据平面
每台路由器的数据平面的主要作用是从其输入链路向其输出链路转发数据报。   
路由器具有截断的协议栈，即没有网络层以上的部分。   
转发是在数据平面中实现的唯一功能。   
路由器是网络层设备。   

## 路由器
输入端口   
交换结构   
输出端口   
路由选择处理器   
最长前缀匹配规则：在转发表中寻找最长的匹配项，并向最长前缀匹配相关联的链路接口转发分组。   

### 交换
经内存交换   
经总线交换   
经互联网络交换   

## 网际协议
### Ipv4
Ipv4数据报关键字段：   
版本  4比特   
首部长度  4比特   
服务类型  8比特   
数据报长度  16比特   
标识(16)、标志(3)、片偏移(13)   
寿命 8   
上层协议 8   
首部校验和  16   
源和目的IP(各32)   
选项   
数据   

#### Ipv4 数据报分片
数据报的分片工作在路由器中。   
数据报的重新组装工作放在端系统中。   

#### Ipv4编址
每个ip地址长度为32比特，共有2的32次方个ip地址。点分十进制记法。   
子网掩码   
CIDR 无类别域间路由选择 ：当使用子网寻址时，32比特的IP地址被划分为两部分，并且也具有点分十进制数形式a. h. c. d/x,其中兀指示了地址的第一部分中的比特数。   
分类编址：8、16‘24比特子网分别被称为A、B、C类网络。问题：C类24比特子网只能容纳最多254台主机   
IP广播地址255.255.255.255。当一台主机发出一个目的地址为255. 255. 255. 255的数据报时，该报文会交付给同一个网络中的所有主机。   

ip地址=网络地址+主机地址   
网络地址：ip地址和子网掩码进行与运算   
广播地址：网络地址不变，主机地址全部变为1   

DHCP 动态主机配置协议，又被称为即插即用协议或者零配置协议   
DHCP是一个客户-服务器协议。   
DHCP过程：DHCP服务器发现、DHCP服务器提供、DHCP请求、DHCP ACK。   

#### 网络地址转换 NAT

### Ipv6
字段如下：   
版本 4比特   
流量类型 8   
流标签 20   
有效载荷长度 16   
下一个首部   
跳限制   
源地址和目标地址   
数据   

### 通用转发


# 控制平面
## 路由选择算法 * 数据结构--图
其目的是从发送方到接收方的过程中确定一条通过路由器网络的好的路径。   
集中式路由选择算法。链路状态算法LS   
分散式路由选择算法。距离向量算法DV   

静态路由选择算法，动态路由选择算法。   

负载敏感算法。   



